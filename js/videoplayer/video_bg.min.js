!function(e){jQuery.fn.video_bg=function(o){function t(e){a=document.getElementById(e.id)}function i(){return h?!a.paused:a.isPlaying()}function n(){return h?!a.volume:a.isMute()}var a,u="background-video",d="padding",r="0",s="100%",c="position",l="false",g="true",b=!1,p=!0,m=p,f=p,v=b,w="16:9",h=b,k=b,y=b,_=b,M=b,A=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i),j=jQuery(this);o.loop!=e&&(o.loop==g?m=p:o.loop==l&&(m=b)),o.autoplay!=e&&(o.autoplay==g?f=p:o.autoplay==l&&(f=b)),o.muted!=e&&(o.muted==g?v=p:o.muted==l&&(v=b));var Q=A?o.formatMobile:o.format;if(Q!=e){var z=new RegExp("[0-9][0-9]*:[0-9][0-9]*");Q.match(z)?w=Q:alert("INVALID FORMAT")}for(var F,P,E="",I="",x=0;":"!=w[x];)E+=w[x],x++;for(F=parseFloat(E,10),x++;x<w.length;)I+=w[x],x++;P=parseFloat(I,10),A?(o.mp4Mobile!=e&&(k=p),o.webmMobile!=e&&(y=p),o.flvMobile!=e&&(_=p),o.oggMobile!=e&&(M=p)):(o.mp4!=e&&(k=p),o.webm!=e&&(y=p),o.flv!=e&&(_=p),o.ogg!=e&&(M=p));var T=jQuery("<div id='background-video'></div>"),B=jQuery("<div id='background-video-mask'></div>");B.css(c,"fixed"),B.css("width",s),B.css("height",s),B.css("margin",r),B.css(d,r),B.css("left",r),B.css("top",r),B.css("overflow","hidden"),B.css("z-index","-5"),T.css(c,"absolute"),T.css("margin",r),T.css(d,r),B.append(T),j.append(B),jQuery(window).resize(function(){var e,o,t=jQuery(window).width(),i=jQuery(window).height();e=t,o=e*P/F,i>o&&(o=i,e=F*o/P),T.css("width",e),T.css("height",o),T.css("left",t/2-e/2),T.css("top",i/2-o/2)}),jQuery(window).trigger("resize");var S=function(){var e="autoplay",t="preload",i="",n="",d=b;if(Modernizr.video.h264&&k?(i=A?o.mp4Mobile:o.mp4,n="video/mp4"):Modernizr.video.ogg&&M?(i=A?o.oggMobile:o.ogg,n="video/ogg"):Modernizr.video.webm&&y?(i=A?o.webmMobile:o.webm,n="video/webm"):d=p,!d){var r=document.createElement("video");r.setAttribute("id","background-video-id"),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("src",i),r.setAttribute("type",n),A?r.setAttribute(t,"auto"):r.setAttribute(t,"metadata"),f&&r.setAttribute(e,e),m&&r.setAttribute("loop","loop"),document.getElementById(u).appendChild(r),a=document.getElementById("background-video-id"),a.load(),h=p,v&&background_mute()}},O=function(){T.append("<h1>You need at least Flash Player 9.0</h1>");var e={url:""},i=b,n=window.location.pathname.split("/index.php")[0];"/"==n&&(n=""),k?e.url=A?o.mp4Mobile:o.mp4:_?e.url=A?o.flvMobile:o.flv:i=p,i?S():(e.loop=m,e.autoplay=f,e.muted=v,e.formW=F,e.formH=P,swfobject.embedSWF(n+"/../js/videoplayer/video.swf",u,s,s,"9.0",null,e,{allowfullscreen:p,allowScriptAccess:"always",wmode:"transparent"},{name:"background-video-swf"},t))},R=swfobject.getFlashPlayerVersion();R.major>9?O():Modernizr.video&&S(),background_play=function(){h?a.play():a.resume()},background_pause=function(){a.pause()},background_toggle_play=function(){i()?background_pause():background_play()},background_mute=function(){h?a.volume=0:a.mute()},background_unmute=function(){h?a.volume=1:a.unmute()},background_toggle_sound=function(){n()?background_unmute():background_mute()};var V=b;background_hide=function(){background_pause(),B.stop().fadeTo(700,0),V=p},background_show=function(){background_play(),B.stop().fadeTo(700,1),V=b},background_toggle_hide=function(){V?background_show():background_hide()},background_rewind=function(){h?a.currentTime=0:a.rewind()}}}();